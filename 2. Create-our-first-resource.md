# Create our first resource

Now, our application is ready to use, we will work on the API itself.
Before starting this chapter, you should be aware of some available resources and read it.

### Define our first resource
The following code is written with the openapi 2.X specification, to know how to do with a 3+ spec
please refer to the [OpenApi specifications](https://swagger.io/docs/specification/about/).

we starting with the "info" part. Nothing special here, except for the basPath value.
The `basePath`should stay as is when using JHipster, because it not need extra configuration to be exposed into the swagger UI,
and it follow the JHipster guideline. For your own purpose you could overwrite this value. Be sure to update the JHipster configuration.


```
swagger: '2.0'
info:
  description: 'This is a sample JHipster application with OpenApi option.'
  version: '1.0.0'
  title: 'workshop-openapi'
  contact:
    email: 'anthony.viard@jhipster.tech'
  license:
    name: 'Apache 2.0'
    url: 'http://www.apache.org/licenses/LICENSE-2.0.html'
basePath: '/api'
```

Then we add a new definition, for this workshop we will generate a student API to access to the base student and their teachers.

#### Add the student definition

Add the end of the file, add a `descriptions` section to manage our objects.
Our student is defined by an id, a firstname, a lastname and a birthday.

```
definitions:
  student:
    type: 'object'
    properties:
      id:
        type: 'integer'
        format: 'int64'
      firstname:
        type: 'string'
      lastname:
        type: 'string'
      birthday:
        type: 'string'
        format: 'date'
```

#### Add a student array definition
For collection purpose, we have to define a student array. We just have to define a new
entry in the definition part, like this:

```
  students:
    type: 'array'
    items:
      $ref: '#/definitions/student'
```

#### Add the teacher definition 

In the definition part, after the student, add the teacher object defined by an id, a firstname and a lastname.

```
  teacher:
    type: 'object'
    properties:
      id:
        type: 'integer'
        format: 'int64'
      firstname:
        type: 'string'
      lastname:
        type: 'string'
```

#### Link teacher and student


#### Add our first endpoint
Now we have both teacher and student object defined, we will add our first endpoint.

Below the `definitions` part, add a `path` part :

```
  /students/{id}:
    get:
      summary: 'get an student'
      operationId: 'getStudent'
      parameters:
        - name: 'id'
          required: true
          type: 'integer'
          in: 'path'
      responses:
        200:
          description: 'successful operation'
          schema:
            $ref: '#/definitions/student'
```

### References
[OpenApi specifications](https://swagger.io/docs/specification/about/)

[Swagger editor](http://editor.swagger.io/?_ga=2.149241014.1090305954.1575366310-1969853620.1574417188)
